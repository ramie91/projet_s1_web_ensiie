{{ define "navbar" }}
<header class="bg-white shadow dark:bg-slate-900 dark:shadow-slate-950/50 transition-colors duration-300">
  <div class="container mx-auto flex items-center justify-between px-4 py-4">
    <a class="text-xl font-semibold text-blue-600 dark:text-blue-400" href="/" data-i18n="brand.name">CheckMate</a>
    <nav class="flex items-center gap-6 text-sm font-medium text-slate-600 dark:text-slate-300 transition-colors duration-300">
      <!-- Liens contextuels selon la session + rÃ´les -->
      <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/" data-i18n="nav.home">Accueil</a>
      {{ if .currentUser }}
        <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/expenses/create" data-i18n="nav.addExpense">Ajouter une dÃ©pense</a>
        <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/expenses" data-i18n="nav.expenses">DÃ©penses</a>
        {{ if .currentUser.IsAdmin }}
          <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/admin" data-i18n="nav.admin">Panel admin</a>
        {{ end }}
        <span class="inline-flex items-center gap-2 text-slate-500 dark:text-slate-300 transition-colors duration-300">
          <span class="text-xl">ğŸ‘¤</span>
          {{ .currentUser.Name }}
        </span>
        <form method="post" action="/logout">
          <button class="rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800 transition-colors duration-300" type="submit" data-i18n="nav.logout">
            DÃ©connexion
          </button>
        </form>
      {{ else }}
        <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/login" data-i18n="nav.login">Connexion</a>
        <a class="hover:text-blue-600 dark:hover:text-blue-400" href="/register" data-i18n="nav.register">CrÃ©er un compte</a>
      {{ end }}
      <div class="flex items-center gap-3">
        <!-- Bouton langue -->
        <button
          type="button"
          class="flex items-center gap-2 rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800 transition-colors duration-300"
          data-action="toggle-language"
          data-target-lang="en"
        >
          <span aria-hidden="true" data-i18n="action.switchEnglish">ğŸŒ</span>
        </button>
        <!-- Bouton thÃ¨me -->
        <button
          type="button"
          class="flex items-center gap-2 rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800 transition-colors duration-300"
          data-action="toggle-theme"
          data-theme-target="dark"
          aria-pressed="false"
        >
          <span class="theme-icon" data-i18n="action.enableDark" aria-hidden="true">ğŸŒ™</span>
        </button>
      </div>
    </nav>
  </div>
</header>
{{ end }}
